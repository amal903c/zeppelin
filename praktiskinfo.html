<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="">
</head>

<body>



    <template class="template_text">
        <article class="afsnit_text_container">
            <h1 id="overskrift" class="hide"></h1>
            <h2 class="rubrik hide"></h2>
            <p class="tekst hide"></p>
        </article>
    </template>

    <template class="template_image">
        <article class="afsnit_image_container">
            <img src="" alt="">
        </article>
    </template>


    <div id="the_container">
        <div id="basisside">
            <div id="text_container"></div>
        </div>
        <div id="footer"></div>
    </div>




    <script>
        let theJSON;
        const TextTemplate = document.querySelector(".template_text");
        const textContainer = document.querySelector("#text_container");
        const imageContainer = document.querySelector("#image_container")
        const ImageTemplate = document.querySelector(".template_image");

        document.addEventListener("DOMContentLoaded", start);

        //endpoint url
        var endpoint = "http://michelleyoung.dk/kea/zeppelin/wordpress/wp-json/wp/v2/pages/163";

        function start() {
            loadData();
        }

        async function loadData() {
            console.log("jeg er ved data");

            const response = await fetch(endpoint);
            theJSON = await response.json();
            visIndhold();
        }

        function visIndhold() {
            console.log(theJSON)

            if (theJSON.title) {
                console.log(theJSON.title.rendered)

                const klonText = TextTemplate.cloneNode(true).content;

                klonText.querySelector("#overskrift").classList.remove("hide");
                klonText.querySelector("#overskrift").textContent = theJSON.title.rendered;
                //

                textContainer.appendChild(klonText);
            }

            if (theJSON.excerpt.rendered) {

                console.log(theJSON.content.rendered)

                const klonText = TextTemplate.cloneNode(true).content;

                klonText.querySelector(".tekst").classList.remove("hide");
                klonText.querySelector(".tekst").innerHTML = theJSON.content.rendered;
                textContainer.appendChild(klonText);

            }
        }
    </script>

</body></html>
